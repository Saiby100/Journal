#:import Theme utils.theme.Theme
#:import TextField widgets.textfield.TextField

<PanelContent>:
    cols: 1
    md_bg_color: Theme.get_primary_colour()
    adaptive_height: True

    TextField:
        id: textfield
        initial_text: root.text
        multiline: True
        font_name: Theme.get_card_title_font()
        md_bg_color: Theme.get_primary_colour()

<ExpansionPanelTitle>:
    bg_color: Theme.get_primary_colour()
    radius: 10

<RotateIcon>:
    angle: 0
    canvas.before:
        PushMatrix
        Rotate:
            angle: root.angle
            axis: 0, 0, 1
            origin: root.center

    canvas.after:
        PopMatrix

<ExpansionPanel>:
    orientation: "vertical"
    size_hint_y: None
    adaptive_height: True
    height: self.initial_height
    radius: 10
    padding: [10, 15]
    on_release: root.collapse() if self.expanded else self.expand()

    MDBoxLayout:
        id: title
        orientation: "horizontal"
        size_hint_x: 1
        adaptive_height: True
        size_hint_y: 1

        MDLabel:
            text: root.title
            bold: True
            font_name: Theme.get_card_title_font()
        
        RotateIcon:
            id: arrow
            icon: "chevron-right"
            angle: 0